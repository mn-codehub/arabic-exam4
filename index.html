<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ø¢Ø²Ù…ÙˆÙ† Ø¹Ø±Ø¨ÛŒ Ù¾Ø§ÛŒÙ‡ Ù‡ÙØªÙ…</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
 font-family:tahoma;
 background:linear-gradient(135deg,#74b9ff,#a29bfe);
 direction:rtl;
 text-align:center;
 margin:0;
 min-height:100vh
}
.container{
 max-width:500px;
 background:#fff;
 margin:20px auto;
 padding:22px;
 border-radius:20px;
 box-shadow:0 15px 35px rgba(0,0,0,.2)
}
h3{color:#2d3436}

button{
 width:100%;
 padding:13px;
 margin:8px 0;
 border:none;
 border-radius:14px;
 background:linear-gradient(to right,#0984e3,#6c5ce7);
 color:#fff;
 font-size:15px;
 transition:.3s
}
button:hover{transform:scale(1.02)}
button:disabled{background:#b2bec3}
.option{background:#dfe6e9;color:#2d3436}

#timeBox{
 color:#d63031;
 font-weight:bold;
 font-size:18px
}

/* Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª */
#progressWrap{margin:10px 0}
#progressText{font-size:14px;margin-bottom:4px}
#progressBarBg{
 background:#dfe6e9;
 border-radius:10px;
 height:12px;
 overflow:hidden
}
#progressBar{
 height:100%;
 width:0%;
 background:linear-gradient(to right,#00cec9,#6c5ce7);
 transition:width .4s ease
}

/* Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù¾Ø§ÛŒØ§Ù† */
@keyframes finishAnim{
 from{opacity:0;transform:translateY(30px)}
 to{opacity:1;transform:translateY(0)}
}
.finishAnim{animation:finishAnim .8s ease forwards}

table{
 width:100%;
 border-collapse:collapse;
 margin-top:15px
}
th{
 background:#6c5ce7;
 color:#fff
}
th,td{
 border:1px solid #ccc;
 padding:7px;
 font-size:14px
}
.highlight{color:#d63031;font-weight:bold}

.resetBtn{
 background:linear-gradient(to right,#d63031,#e84393)
}
</style>
</head>

<body>

<div class="container" id="loginBox">
<h3>Ø¢Ø²Ù…ÙˆÙ† Ø¹Ø±Ø¨ÛŒ Ù¾Ø§ÛŒÙ‡ Ù‡ÙØªÙ…</h3>
<p><b>Ø¯Ø¨ÛŒØ±:</b> Ø®Ø§Ù†Ù… Ø¯Ú©ØªØ± Ø¨Ø®Ø´Ø¹Ù„ÛŒâ€ŒØ²Ø§Ø¯Ù‡</p>
<p><b>Ø·Ø±Ø§Ø­:</b> Ù…Ø±Ø¬Ø§Ù† Ù‚Ø§Ø³Ù…ÛŒØ§Ù†</p>
<input id="studentName" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ">
<button onclick="start()">Ø´Ø±ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ†</button>
</div>

<div class="container" id="examBox" style="display:none">
<p id="timeBox">â± 60</p>

<div id="progressWrap">
 <div id="progressText">Ø³Ø¤Ø§Ù„ 1 Ø§Ø² 10</div>
 <div id="progressBarBg">
  <div id="progressBar"></div>
 </div>
</div>

<h4 id="question"></h4>
<div id="options"></div>
<p id="feedback"></p>
</div>

<div class="container finishAnim" id="resultBox" style="display:none"></div>

<audio id="ok" src="https://www.soundjay.com/buttons/sounds/button-4.mp3"></audio>
<audio id="bad" src="https://www.soundjay.com/buttons/sounds/button-10.mp3"></audio>

<script>
const allQuestions=[
 {q:"ØªØ±Ø¬Ù…Ù‡Ù” ÙˆØ§Ú˜Ù‡Ù” Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡ Ø¯Ø± Ú©Ø¯Ø§Ù… Ú¯Ø²ÛŒÙ†Ù‡ Ø¢Ù…Ø¯Ù‡ Ø§Ø³ØªØŸ (Ø§ÙÙ„Ø¬ÙÙ†ÙÙ‘Ø©Ù ØªÙØ­ØªÙ <span class='highlight'>Ø£Ù‚Ø¯Ø§Ù…</span> Ø§Ù„Ø§ÙÙ…ÙÙ‘Ù‡Ø§ØªÙ.)",
  o:["Ù¾Ø§","Ø¯Ø³Øªâ€ŒÙ‡Ø§","Ø¯Ø³Øª","Ù¾Ø§Ù‡Ø§"],a:3},
 {q:"Ø¯Ø± Ø¬Ø§ÛŒ Ø®Ø§Ù„ÛŒ ( ......... Ø§Ù„Ø·ÙÙ„ÙØŸ Ø§Ù„Ø·ÙÙ„Ù Ø¹ÙÙ†Ø¯Ù Ø£ÙÙ…ÙÙ‡) Ú©Ù„Ù…Ù‡ Ù¾Ø±Ø³Ø´ÛŒ Ù…Ù†Ø§Ø³Ø¨ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯ØŸ",
  o:["Ø£ÛŒÙ†Ù","Ù…Ø§","Ù…ÙÙ†","Ù‡ÙÙ„"],a:0},
 {q:"Ú©Ø¯Ø§Ù… Ú©Ù„Ù…Ù‡ Ø¯Ø± Ø§ÛŒÙ† Ø¬Ù…Ù„Ù‡ Ø¨Ù‡ Ù…Ø¹Ù†Ø§ÛŒ Â«Ø²Ø¨Ø§Ù†Â» Ø§Ø³ØªØŸ (Ø³ÙÚ©ÙˆØªÙ Ø§Ù„Ù„Ø³Ø§Ù† Ø³ÙÙ„Ø§Ù…ÙÙ‡Ù Ø§Ù„Ø¥Ù†Ø³Ø§Ù†.)",
  o:["Ø³Ú©ÙˆØªÙ","Ø§Ù„Ù„Ø³Ø§Ù†","Ø³Ù„Ø§Ù…Ù‡","Ø§Ù„Ø§Ù†Ø³Ø§Ù†"],a:1},
 {q:"Ø§Ø³Ù… Ø§Ø´Ø§Ø±Ù‡ Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ù…ÙØ±Ø¯ Ù…Ø¤Ù†Ø« Ù†Ø²Ø¯ÛŒÚ© Ú©Ø¯Ø§Ù… Ø§Ø³ØªØŸ",
  o:["Ù‡ÙØ°ÙØ§","Ø°ÙÙ„ÙÚ©Ù","Ù‡ÙØ°ÙÙ‡Ù","ØªÙÙ„Ú©Ù"],a:2},
 {q:"Ø¯Ù‚ÛŒÙ‚â€ŒØªØ±ÛŒÙ† ØªØ±Ø¬Ù…Ù‡ Ú©Ù„Ù…Ù‡ Â«Ø´Ø§Ø¹Ø±Ù‡Â» Ú†ÛŒØ³ØªØŸ",
  o:["ÛŒÚ© Ø´Ø§Ø¹Ø± Ù…Ø±Ø¯","ÛŒÚ© Ø´Ø§Ø¹Ø± Ø²Ù†","Ø¯Ùˆ Ø´Ø§Ø¹Ø± Ø²Ù†","Ø¯Ùˆ Ø´Ø§Ø¹Ø± Ù…Ø¤Ù†Ø«"],a:1},
 {q:"Ú©Ø¯Ø§Ù… Ú¯Ø²ÛŒÙ†Ù‡ ØµÙØª Ø§Ø³ØªØŸ",
  o:["Ø§Ù„Ø·Ø¨ÛŒØ¨Ù‡","Ø§Ù„Ù†Ø§Ø¬Ø­Ù‡","Ø§Ù„Ø´Ø¬Ø±Ù‡","Ø§Ù„Ø·Ø§Ù„Ø¨Ù‡"],a:1},
 {q:"Ú©Ø¯Ø§Ù… Ú©Ù„Ù…Ù‡ Ø¨Ø§ Ø¨Ù‚ÛŒÙ‡ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ù…ØªÙØ§ÙˆØª Ø§Ø³ØªØŸ",
  o:["Ú©Ø§ØªÙØ¨","Ø³Ø§Ø¦Ù‚","ØµÙØ¯ÛŒÙ‚","Ù…ÙØ¯Ø±Ø³"],a:2},
 {q:"Ø¬Ù…Ù„Ù‡Ù” Ù¾Ø±Ø³Ø´ÛŒ Ù…Ù†Ø§Ø³Ø¨ Ø§ÛŒÙ† Ø¬ÙˆØ§Ø¨ Ú©Ø¯Ø§Ù… Ø§Ø³ØªØŸ (Ø£Ù†Ø§ Ù…ÙØ¯ÛŒØ±Ù Ø§Ù„Ù…ÙØ¯Ø±ÙØ³ÙÙ‡Ù)",
  o:["Ù…ÙÙ† Ø£Ù†ØªÙØŸ","Ù…ÙÙ† Ù‡ÙˆØŸ","Ù…ÙÙ† Ù‡ÙŠØŸ","Ù…ÙÙ† Ø£Ù†ØªÙØŸ"],a:0},
 {q:"Ú©Ø¯Ø§Ù… Ø§Ø³Ù…ØŒ Ø§ÛŒÙ† Ú©Ù„Ù…Ù‡ Ø±Ø§ Ú©Ø§Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ (Ù‡Ø§ØªØ§Ù†Ù ...)",
  o:["Ø±ÙØ¬ÙÙ„Ø§Ù†Ù","Ø¨ÙÙ†ØªØ§Ù†Ù","Ù…Ù…ÙÙ†ÙˆØ¹Ø§Ù†Ù","Ø¬ÙØ¨ÙÙ„Ø§Ù†Ù"],a:1},
 {q:"Ù…ØªØ¶Ø§Ø¯ Ú©Ø¯Ø§Ù… Ú©Ù„Ù…Ù‡ ØµØ­ÛŒØ­ Ù†ÛŒØ³ØªØŸ",
  o:["Ù‚ÙÙ„ÛŒÙ„ â‰  Ù‚ÙØ±ÛŒØ¨","ÙˆÙØ­Ø¯Ù‡ â‰  Ø¬ÙÙ…Ø§Ø¹ÙÙ‡","Ø¬Ø§Ù„ÙØ³ â‰  ÙˆØ§Ù‚Ù","ØµÙØ¯ÛŒÙ‚ â‰  Ø¹ÙØ¯ÙˆÙ‘"],a:0}
];

const TOTAL=10;
let questions=[],index=0,score=0,time=60,interval;

function start(){
 if(localStorage.getItem("exam_done")){
  alert("Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø± Ø¢Ø²Ù…ÙˆÙ† Ø´Ø±Ú©Øª Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯");
  return;
 }
 if(!studentName.value.trim()){
  alert("Ù†Ø§Ù… Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯");return;
 }
 questions=[...allQuestions].sort(()=>0.5-Math.random()).slice(0,TOTAL);
 loginBox.style.display="none";
 examBox.style.display="block";
 interval=setInterval(tick,1000);
 showQ();
}

function tick(){
 time--;
 timeBox.innerText="â± "+time;
 if(time<=0) finish();
}

function showQ(){
 if(index>=questions.length){finish();return;}
 progressBar.style.width=(index/TOTAL*100)+"%";
 progressText.innerText=`Ø³Ø¤Ø§Ù„ ${index+1} Ø§Ø² ${TOTAL}`;
 let q=questions[index];
 question.innerHTML=q.q;
 options.innerHTML="";
 q.o.forEach((op,i)=>{
  let b=document.createElement("button");
  b.className="option";
  b.innerText=op;
  b.onclick=()=>answer(i);
  options.appendChild(b);
 });
}

function answer(i){
 document.querySelectorAll(".option").forEach(b=>b.disabled=true);
 if(i===questions[index].a){
  score++; ok.play();
  feedback.style.color="#00b894";
  feedback.innerText="âœ” Ù¾Ø§Ø³Ø® Ø¯Ø±Ø³Øª";
 }else{
  bad.play();
  feedback.style.color="#d63031";
  feedback.innerText="âœ– Ù¾Ø§Ø³Ø® Ù†Ø§Ø¯Ø±Ø³Øª";
 }
 setTimeout(()=>{
  feedback.innerText="";
  index++;
  showQ();
 },700);
}

function finish(){
 clearInterval(interval);
 localStorage.setItem("exam_done","yes");
 let records=JSON.parse(localStorage.getItem("records")||"[]");
 records.push({name:studentName.value,score});
 localStorage.setItem("records",JSON.stringify(records));

 let max=Math.max(...records.map(r=>r.score));
 let rows=records.map(r=>`<tr><td>${r.name}</td><td>${r.score}</td></tr>`).join("");

 examBox.style.display="none";
 resultBox.style.display="block";
 resultBox.innerHTML=`
 <h3>Ù¾Ø§ÛŒØ§Ù† Ø¢Ø²Ù…ÙˆÙ† ğŸ‰</h3>
 <p>Ù†Ù…Ø±Ù‡ Ø´Ù…Ø§: ${score} Ø§Ø² 10</p>
 <table>
 <tr><th>Ù†Ø§Ù…</th><th>Ù†Ù…Ø±Ù‡</th></tr>
 ${rows}
 </table>
 <p>ØªØ¹Ø¯Ø§Ø¯ Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù†: ${records.length}</p>
 <p>Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ù†Ù…Ø±Ù‡: ${max}</p>
 <button class="resetBtn" onclick="resetExam()">ğŸ” Ø±ÛŒØ³Øª Ø¢Ø²Ù…ÙˆÙ† (ÙˆÛŒÚ˜Ù‡ Ø¯Ø¨ÛŒØ±)</button>
 `;
}

function resetExam(){
 if(confirm("Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ø¢Ø²Ù…ÙˆÙ† Ø±ÛŒØ³Øª Ø´ÙˆØ¯ØŸ")){
  localStorage.removeItem("records");
  localStorage.removeItem("exam_done");
  location.reload();
 }
}
</script>

</body>
</html>
